(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const h of t.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(s){if(s.ep)return;s.ep=!0;const t=n(s);fetch(s.href,t)}})();const N={"sacred-geometry":"Sacred Geometry",fractals:"Fractals",organic:"Organic Forms",minimal:"Minimal"};function F(){return"sacred-geometry"}function q(){return{theme:F(),symmetry:6,angle:0,scale:1,iter:8,paletteIdx:0}}function k(e){let o=2166136261;for(let n=0;n<e.length;n++)o^=e.charCodeAt(n),o=Math.imul(o,16777619);return o>>>0}function Y(e,o,n,i,s,t){const h=k(t),c=["bounce","wrap","fade"][h%3],u=s*.6,f=u*.8,a=u,d=n-u,l=u,m=i-u;let g=e,r=o,p=1;switch(c){case"bounce":if(e<a){const M=a-e;g=a+M*.3*Math.sin(M/f*Math.PI*.5)}else if(e>d){const M=e-d;g=d-M*.3*Math.sin(M/f*Math.PI*.5)}if(o<l){const M=l-o;r=l+M*.3*Math.sin(M/f*Math.PI*.5)}else if(o>m){const M=o-m;r=m-M*.3*Math.sin(M/f*Math.PI*.5)}break;case"wrap":if(e<a){const M=(a-e)/f;g=d-(a-e)*Math.min(1,M)}else if(e>d){const M=(e-d)/f;g=a+(e-d)*Math.min(1,M)}if(o<l){const M=(l-o)/f;r=m-(l-o)*Math.min(1,M)}else if(o>m){const M=(o-m)/f;r=l+(o-m)*Math.min(1,M)}break;case"fade":const b=u*1.2,y=Math.min(e-a,d-e),P=Math.min(o-l,m-o),w=Math.min(y,P);if(w<b){const M=w/b;p=Math.max(.1,M*M)}break}return{x:g,y:r,alpha:p}}function D(e,o,n,i=1){const{width:s,height:t}=e.canvas,h=k("flower-position"),c=.08+h%100/2e3,u=h%3*s/3,f=h*7%3*t/3,a=u+(s-u)*(.5+.2*Math.sin(n*c)),d=f+(t-f)*(.5+.2*Math.cos(n*c*.8)),l=.8+.3*Math.sin(n*(.4+h%3*.1)),m=.9+.2*Math.sin(n*(.6+h*3%4*.1)),g=Math.min(s,t)*.22*o.scale*l*m,r=Y(a,d,s,t,g*2,"flower-of-life"),p=r.x,b=r.y;i*=r.alpha;const y=1.5+2*(.5+.5*Math.sin(n*(.3+h%2*.1))),P=n*(.06+h%50/1e3)+o.angle,w=.1*Math.sin(n*(.25+h%3*.05));e.save(),e.globalAlpha=i,e.translate(p,b),e.rotate(P),e.scale(1+w*.3,1-w*.2);const M=(n*40+o.angle*57.3)%360;e.strokeStyle=`hsl(${M}, 75%, 65%)`,e.lineWidth=y;const I=.9+.2*Math.sin(n*.7);e.beginPath(),e.arc(0,0,g*I,0,Math.PI*2),e.stroke();for(let v=0;v<o.symmetry;v++){const S=v/o.symmetry*Math.PI*2,E=.85+.15*Math.sin(n*.6+v*.3),T=g*(1.1+.1*Math.sin(n*.25+v)),R=Math.cos(S)*T,O=Math.sin(S)*T;e.lineWidth=y*(.8+.2*Math.sin(n*.5+v)),e.strokeStyle=`hsl(${(M+v*15)%360}, 75%, 65%)`,e.beginPath(),e.arc(R,O,g*E,0,Math.PI*2),e.stroke()}e.restore()}function H(e,o,n,i=1){const{width:s,height:t}=e.canvas,h=k("seed-position"),c=.05+h%80/1600,u=h*3%4*s/4,f=h*5%4*t/4,a=u+(s-u)*(.5+.3*Math.cos(n*c)),d=f+(t-f)*(.5+.3*Math.sin(n*c*1.2)),l=k("seed-of-life"),m=Math.min(s,t)*.18*o.scale,g=Y(a,d,s,t,m*2,"seed-of-life"),r=g.x,p=g.y;i*=g.alpha;const b=.7+.5*Math.sin(n*(1.5+l%2)),y=.8+.4*Math.sin(n*(2.2+l*7%3)),P=m*b,w=n*(.15+l%100/1e3)+o.angle,M=.1*Math.sin(n*(3+l%4));e.save(),e.globalAlpha=i,e.translate(r+M*20,p+M*15),e.rotate(w),e.scale(1+M*.2,1-M*.1);const I=(n*(45+l%30)+120)%360;e.strokeStyle=`hsl(${I}, ${70+l%20}%, ${60+l%25}%)`,e.lineWidth=1.5+2.5*Math.sin(n*(1.8+l%3))*y;const v=P*(.9+.3*Math.sin(n*(2.5+l%2)));e.beginPath(),e.arc(0,0,v,0,Math.PI*2),e.stroke();for(let S=0;S<6;S++){const E=S/6*Math.PI*2+n*.1*((l+S)%3-1),T=P*(1+.2*Math.sin(n*(2+S*.3)+l)),R=P*(.8+.4*Math.sin(n*(1.5+S*.2)+l*S)),O=Math.cos(E)*T,W=Math.sin(E)*T;e.strokeStyle=`hsl(${(I+S*(20+l%15))%360}, ${75+l%15}%, ${65+l%20}%)`,e.lineWidth=(1+2*Math.sin(n*(2+S*.4)+l))*y,e.beginPath(),e.arc(O,W,R,0,Math.PI*2),e.stroke()}e.restore()}function B(e,o,n,i=1){const{width:s,height:t}=e.canvas,h=k("metatron-position"),c=.06+h%60/1200,u=h%3;let f,a;u===0?(f=s*(.25+.5*Math.abs(Math.sin(n*c))),a=t*(.25+.5*Math.abs(Math.cos(n*c)))):u===1?(f=s/2+s*.25*Math.cos(n*c),a=t/2+t*.25*Math.sin(n*c)):(f=s/2+s*.2*Math.sin(n*c*2),a=t/2+t*.2*Math.sin(n*c));const d=.8+.4*Math.sin(n*(1.4+h%3)),l=Math.min(s,t)*.28*o.scale,m=Y(f,a,s,t,l*2,"metatrons-cube");f=m.x,a=m.y,i*=m.alpha;const g=.9+.3*Math.sin(n*(2.1+h*5%4)),r=l*d*g,p=n*(.35+h%40/150)+o.angle,b=.2*Math.sin(n*(.8+h%2));e.save(),e.globalAlpha=i,e.translate(f,a),e.rotate(p),e.transform(1,b*.3,b*.2,1,0,0);const y=(n*35+240)%360;e.strokeStyle=`hsl(${y}, 85%, 60%)`,e.lineWidth=1.5+Math.sin(n*3);const P=[[0,0],[1,0],[-1,0],[0,1],[0,-1],[.5,.866],[-.5,.866],[.5,-.866],[-.5,-.866],[1.5,.866],[-1.5,.866],[1.5,-.866],[-1.5,-.866]];P.forEach(([w,M],I)=>{const v=r*.15*(.8+.4*Math.sin(n*2+I*.3));e.beginPath(),e.arc(w*r*.4,M*r*.4,v,0,Math.PI*2),e.stroke()}),e.lineWidth=1,P.forEach(([w,M],I)=>{P.slice(I+1).forEach(([v,S])=>{e.beginPath(),e.moveTo(w*r*.4,M*r*.4),e.lineTo(v*r*.4,S*r*.4),e.stroke()})}),e.restore()}function G(e,o,n,i=1){const{width:s,height:t}=e.canvas,h=k("yantra-position"),c=.04+h%50/1e3,u=.25+h%30/150,f=s*u*(.4+.4*Math.abs(Math.sin(n*c*.5))),a=n*c*1.5,d=s/2+f*Math.cos(a),l=t/2+f*Math.sin(a),m=.85+.35*Math.sin(n*(2+h%3)),g=Math.min(s,t)*.23*o.scale,r=Y(d,l,s,t,g*2,"sri-yantra"),p=r.x,b=r.y;i*=r.alpha;const y=.95+.15*Math.sin(n*(3.2+h*7%5)),P=g*m*y,w=n*(.12+h%30/300)+o.angle,M=.1*Math.sin(n*(2.8+h%4));e.save(),e.globalAlpha=i,e.translate(p+M*25,b+M*20),e.rotate(w),e.scale(1+M*.25,1-M*.15);const I=(n*45+300)%360;e.strokeStyle=`hsl(${I}, 90%, 65%)`,e.lineWidth=1.5+1.5*Math.sin(n*2.5);for(let v=0;v<9;v++){const S=.3+v*.1+.1*Math.sin(n*2+v),E=(v%2===0?0:Math.PI)+n*.1*(v%2===0?1:-1);e.save(),e.rotate(E),e.strokeStyle=`hsl(${(I+v*20)%360}, 90%, 65%)`,e.beginPath();for(let T=0;T<3;T++){const R=T/3*Math.PI*2-Math.PI/2,O=Math.cos(R)*P*S,W=Math.sin(R)*P*S;T===0?e.moveTo(O,W):e.lineTo(O,W)}e.closePath(),e.stroke(),e.restore()}e.restore()}function j(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.07+k("vesica-position")%80/1500,u=s/2+s*.2*Math.sin(n*c),f=t/2+t*.15*Math.cos(n*c*.9),a=Math.min(s,t)*.15*o.scale,d=Y(u,f,s,t,a*2,"vesica-piscis"),l=d.x,m=d.y;i*=d.alpha;const g=.85+.25*Math.sin(n*.5),r=a*g,p=r*.6;e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.08);const b=(n*25+180)%360;e.strokeStyle=`hsl(${b}, 80%, 70%)`,e.lineWidth=2+Math.sin(n*.4),e.beginPath(),e.arc(-p/2,0,r,0,Math.PI*2),e.stroke(),e.beginPath(),e.arc(p/2,0,r,0,Math.PI*2),e.stroke(),e.restore()}function U(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.04+k("tree-position")%60/2e3,u=s/2+s*.25*Math.cos(n*c),f=t/2+t*.2*Math.sin(n*c*1.3),a=Math.min(s,t)*.2*o.scale,d=Y(u,f,s,t,a*2,"tree-of-life"),l=d.x,m=d.y;i*=d.alpha,e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.05);const g=(n*30+60)%360;e.strokeStyle=`hsl(${g}, 75%, 65%)`,e.lineWidth=1.5+.5*Math.sin(n*.6);const r=[[0,-a*.8],[0,a*.8],[-a*.4,-a*.4],[a*.4,-a*.4],[-a*.4,0],[a*.4,0],[-a*.4,a*.4],[a*.4,a*.4],[0,-a*.2],[0,a*.2]];r.forEach(([b,y],P)=>{const w=a*.08*(.8+.4*Math.sin(n*.3+P));e.beginPath(),e.arc(b,y,w,0,Math.PI*2),e.stroke()}),[[0,8],[8,2],[2,4],[4,6],[6,9],[9,7],[7,5],[5,3],[3,8],[8,9],[2,3],[4,5],[6,7]].forEach(([b,y])=>{e.beginPath(),e.moveTo(r[b][0],r[b][1]),e.lineTo(r[y][0],r[y][1]),e.stroke()}),e.restore()}function Z(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.06+k("spiral-position")%70/1800,u=s/2+s*.3*Math.sin(n*c*.7),f=t/2+t*.25*Math.cos(n*c),a=Math.min(s,t)*.18*o.scale,d=Y(u,f,s,t,a*2,"golden-spiral"),l=d.x,m=d.y;i*=d.alpha,e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.04);const g=(n*35+45)%360;e.strokeStyle=`hsl(${g}, 85%, 60%)`,e.lineWidth=2+Math.sin(n*.5);const r=1.618;e.beginPath();for(let p=0;p<100;p++){const b=p*.2,y=a*.02*Math.pow(r,b*.1),P=Math.cos(b)*y,w=Math.sin(b)*y;p===0?e.moveTo(P,w):e.lineTo(P,w)}e.stroke(),e.restore()}function _(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.03+k("mandala-position")%50/2500,u=s/2+s*.2*Math.cos(n*c*1.1),f=t/2+t*.2*Math.sin(n*c*.8),a=Math.min(s,t)*.16*o.scale,d=Y(u,f,s,t,a*2,"mandala"),l=d.x,m=d.y;i*=d.alpha,e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.03);const g=(n*40+270)%360;e.strokeStyle=`hsl(${g}, 90%, 65%)`,e.lineWidth=1+.5*Math.sin(n*.7);for(let r=1;r<=4;r++){const p=a*r*.2,b=r*6;for(let y=0;y<b;y++){const P=y/b*Math.PI*2,w=p*.3;e.beginPath(),e.arc(Math.cos(P)*p,Math.sin(P)*p,w*(.7+.3*Math.sin(n*.4+y)),0,Math.PI*2),e.stroke()}}e.restore()}function K(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.05+k("hexagram-position")%90/2200,u=s/2+s*.28*Math.sin(n*c*.6),f=t/2+t*.22*Math.cos(n*c*1.1),a=Math.min(s,t)*.14*o.scale,d=Y(u,f,s,t,a*2,"hexagram"),l=d.x,m=d.y;i*=d.alpha,e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.07);const g=(n*50+200)%360;e.strokeStyle=`hsl(${g}, 80%, 70%)`,e.lineWidth=2+Math.sin(n*.6);for(let r=0;r<2;r++){e.save(),e.rotate(r*Math.PI),e.beginPath();for(let p=0;p<3;p++){const b=p/3*Math.PI*2-Math.PI/2,y=Math.cos(b)*a,P=Math.sin(b)*a;p===0?e.moveTo(y,P):e.lineTo(y,P)}e.closePath(),e.stroke(),e.restore()}e.restore()}function V(e,o,n,i=1){const{width:s,height:t}=e.canvas,c=.045+k("pentagram-position")%75/2e3,u=s/2+s*.26*Math.cos(n*c*.9),f=t/2+t*.24*Math.sin(n*c*.7),a=Math.min(s,t)*.15*o.scale,d=Y(u,f,s,t,a*2,"pentagram"),l=d.x,m=d.y;i*=d.alpha,e.save(),e.globalAlpha=i,e.translate(l,m),e.rotate(n*.06);const g=(n*45+320)%360;e.strokeStyle=`hsl(${g}, 85%, 65%)`,e.lineWidth=1.8+.7*Math.sin(n*.5),e.beginPath();for(let r=0;r<5;r++){const p=r/5*Math.PI*2-Math.PI/2,b=(r+2)/5*Math.PI*2-Math.PI/2,y=Math.cos(p)*a,P=Math.sin(p)*a,w=Math.cos(b)*a,M=Math.sin(b)*a;r===0&&e.moveTo(y,P),e.lineTo(w,M)}e.closePath(),e.stroke(),e.restore()}const L=["flower-of-life","seed-of-life","metatrons-cube","sri-yantra","vesica-piscis","tree-of-life","golden-spiral","mandala","hexagram","pentagram"],A=12,$=6;function J(e,o,n){e.clearRect(0,0,e.canvas.width,e.canvas.height);const i=k("pattern-sequence"),s=k("multi-pattern");if(s%100<30){const h=2+s%2,c=[...L].sort(()=>i%1e3/500-1);for(let u=0;u<h;u++){const f=(Math.floor(n/A)+u)%c.length,a=c[f],d=u*Math.PI*.7,l=.4+.3*Math.sin(n*.5+d);C(e,a,o,n+u*2,l)}}else{const h=[...L].sort(()=>i%1e3/500-1),c=n%A,u=Math.floor(n/A)%h.length,f=(u+1)%h.length,a=h[u],d=h[f],l=c<A-$?1:Math.max(.1,1-(c-(A-$))/$);if(C(e,a,o,n,l),c>=A-$){const m=Math.min(.9,(c-(A-$))/$);C(e,d,o,n,m)}}}function C(e,o,n,i,s){switch(o){case"flower-of-life":D(e,n,i,s);break;case"seed-of-life":H(e,n,i,s);break;case"metatrons-cube":B(e,n,i,s);break;case"sri-yantra":G(e,n,i,s);break;case"vesica-piscis":j(e,n,i,s);break;case"tree-of-life":U(e,n,i,s);break;case"golden-spiral":Z(e,n,i,s);break;case"mandala":_(e,n,i,s);break;case"hexagram":K(e,n,i,s);break;case"pentagram":V(e,n,i,s);break}}function Q(e){const o=e.getContext("2d");if(!o)return;let n=performance.now();const i=q();function s(t){const h=(t-n)/1e3;J(o,i,h),requestAnimationFrame(s)}requestAnimationFrame(s)}function x(e){const o=document.createElement("div");o.style.cssText="position:fixed;top:20px;left:20px;background:rgba(0,0,0,0.8);color:white;padding:15px;border-radius:8px;font-family:system-ui";const n=document.createElement("h3");n.textContent="Luminara",n.style.margin="0 0 10px 0",o.appendChild(n);const i=document.createElement("label");i.textContent="Theme: ";const s=document.createElement("select");Object.entries(N).forEach(([t,h])=>{const c=document.createElement("option");c.value=t,c.textContent=h,t==="sacred-geometry"&&(c.selected=!0),s.appendChild(c)}),i.appendChild(s),o.appendChild(i),e.appendChild(o)}const z=document.getElementById("app"),X=document.createElement("canvas");X.style.width="100%";X.style.height="100%";X.width=window.innerWidth;X.height=window.innerHeight;z.replaceChildren(X);Q(X);x(z);window.addEventListener("resize",()=>{X.width=window.innerWidth,X.height=window.innerHeight});
